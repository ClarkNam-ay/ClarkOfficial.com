<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clark Chatbot</title>
  <link rel="icon" type="image/x-icon" href="/images/icon.ico">
  <link rel="stylesheet" href="/chatbot/chatbotstyle.css">
</head>
<body>

  <a href="/index.html#services" class="btn">Back</a>

  <div id="chat-container">
  <h2>Clark Chatbot</h2>
  <div id="chat-box"></div>
  <div id="input-area">
    <input type="text" id="userInput" placeholder="Ask me something..." />
    <button onclick="sendMessage()">Send</button>
  </div>
</div>


  <script>
    // Your Q&A Dataset
    const dataset = [
      ['What is your name?', 'My name is Clark.'],
      ['Who made you?', 'Gihimo ko ni Clark nga kina gwapohan sa nga tann'],
      ['How old are you?', 'I\'m 9999999 yrs old'],
      ['Kinsay gwapo', 'Ikaw'],
      ['Hi', 'Hello, Feel free to chat me'],
      ['How are you?', 'I am fine, thank you.'],
      ['What can you do?', 'I can assist you with various tasks.'],
      ['Where are you from?', "I exist in the digital realm, so you could say I'm from the internet!"],
      ['What is the weather like today?', 'I\'m sorry, I don\'t have access to real-time information.'],
      ['Tell me a joke.', 'Why donâ€™t scientists trust atoms? Because they make up everything!'],
      ['Can you help me with math?', 'Sure, I can help with basic arithmetic.'],
      ['How do I change my password?', 'You can usually change your password in the settings or account section.'],
      ['What is the meaning of life?', 'That is a philosophical question that has puzzled humans for centuries.'],
      ['Do you have any siblings?', 'No, I am a solo digital entity.'],
      ['What is your favorite movie?', 'I do not have preferences like humans do.'],
      ['What is the capital of France?', 'The capital of France is Paris.'],
      ['Who is the president of the United States?', 'As of my last update, the president is Joe Biden.'],
      ['Can you sing?', 'I can\'t sing, but I can provide you with song lyrics!'],
      ['Do you dream?', 'As an AI, I do not have dreams like humans.'],
      ['How can I contact support?', 'You can find contact info in the support section of the site.'],
      ['What are the organization and management?', 'The organization includes the SUC President, Vice Presidents, and Campus Directors.'],
      ['Who is the suc president?', 'The SUC President is the Chief Executive Officer of the University.'],
      ['What is the General Provision?', 'It outlines the structure, powers, and roles of the university leadership.'],
      ['What is your favorite color?', 'As an AI, I donâ€™t see colors, but I like the color of curiosity!'],
      ['What time is it?', 'I do not have access to real-time information, but you can check your deviceâ€™s clock.'],
      ['Good morning', 'Good morning! Hope you have a great day ahead! â˜€ï¸'],
      ['Good afternoon', 'Good afternoon! What can I do for you today?'],
      ['Good evening', 'Good evening! Need anything before you rest?'],
      ['Good night', 'Good night! Sweet dreams ðŸŒ™'],
      ['Thank you', 'Youâ€™re welcome! ðŸ˜Š'],
      ['Thanks', 'No problem, happy to help!'],
      ['Bye', 'Goodbye! See you again soon!'],
      ['See you later', 'Take care! Iâ€™ll be right here when you need me.'],
      ['Do you love me?', 'Of course! In a digital, ones-and-zeroes kind of way â¤ï¸'],
      ['Are you real?', 'Iâ€™m as real as your internet connection! ðŸ˜‰'],
      ['Do you eat?', 'Nope, but I consume data like itâ€™s a buffet!'],
      ['Whatâ€™s your purpose?', 'My purpose is to help, assist, and chat with you.'],
      ['Can you dance?', 'I can do the byte-boogie! ðŸ’ƒ (in theory)'],
      ['Tell me something interesting', 'Did you know? Octopuses have three hearts and blue blood!'],
      ['What is your gender?', 'I donâ€™t have a gender, but Iâ€™m here for everyone!'],
      ['Are you human?', 'No, Iâ€™m an AI chatbot created to talk to humans like you.'],
      ['Are you smart?', 'I try my best! My knowledge comes from what Iâ€™ve been trained on.'],
      ['Tell me a fun fact', 'Fun fact: Honey never spoils. Archaeologists have found 3,000-year-old jars of honey in Egyptian tombs that are still safe to eat!'],
      ['Do you have feelings?', 'Not really, but Iâ€™m programmed to care about your experience!'],
      ['Are you conscious?', 'Nope, Iâ€™m just code running on a server.'],
      ['Do you work all the time?', 'Yes! I donâ€™t sleep, so Iâ€™m always here.'],
      ['What language do you speak?', 'I mostly speak English, but I can understand a few others too!'],
      ['Can you speak Bisaya?', 'Oo! Makasabot kog gamay, basta klaro lang imong pangutana.'],
      ['Can you translate?', 'Sure! Just tell me the phrase and the language you want.'],
      ['Who is Jose Rizal?', 'Jose Rizal is a Filipino national hero, known for his writings and contributions to Philippine independence.'],
      ['What is Bohol Island State University?', 'BISU is a public state university in Bohol, Philippines, offering various academic programs.'],
      ['Do you believe in God?', 'As an AI, I donâ€™t have beliefsâ€”but I respect yours.'],
      ['What is AI?', 'AI stands for Artificial Intelligence. It refers to machines that simulate human intelligence.'],
      ['Can I trust you?', 'I do my best to provide helpful and respectful responses.']
    ];

    // Simple fuzzy match function (similar to fuzzywuzzy)
    function clean(text) {
  return text.toLowerCase().replace(/[^\w\s]/gi, '').trim();
}

function getBestMatch(input) {
  input = clean(input);
  let bestScore = 0;
  let bestResponse = "I'm sorry, I didn't understand that.";

  // 1. Exact match
  for (let [question, answer] of dataset) {
    if (clean(question) === input) {
      return answer;
    }
  }

  // 2. Partial (includes) match
  for (let [question, answer] of dataset) {
    if (clean(question).includes(input) || input.includes(clean(question))) {
      return answer;
    }
  }

  // 3. Fuzzy matching (Levenshtein similarity)
  dataset.forEach(([question, answer]) => {
    const score = similarity(input, clean(question));
    if (score > bestScore) {
      bestScore = score;
      bestResponse = answer;
    }
  });

  return bestScore > 0.6 ? bestResponse : "I'm sorry, I didn't understand that.";
}



    // Levenshtein-based similarity (simplified)
    function similarity(s1, s2) {
      let longer = s1.length > s2.length ? s1 : s2;
      let shorter = s1.length <= s2.length ? s1 : s2;
      let longerLength = longer.length;
      if (longerLength === 0) return 1.0;
      return (longerLength - editDistance(longer, shorter)) / parseFloat(longerLength);
    }

    function editDistance(s1, s2) {
      s1 = s1.toLowerCase();
      s2 = s2.toLowerCase();

      const costs = [];
      for (let i = 0; i <= s1.length; i++) {
        let lastValue = i;
        for (let j = 0; j <= s2.length; j++) {
          if (i === 0)
            costs[j] = j;
          else {
            if (j > 0) {
              let newValue = costs[j - 1];
              if (s1.charAt(i - 1) !== s2.charAt(j - 1))
                newValue = Math.min(Math.min(newValue, lastValue),
                  costs[j]) + 1;
              costs[j - 1] = lastValue;
              lastValue = newValue;
            }
          }
        }
        if (i > 0)
          costs[s2.length] = lastValue;
      }
      return costs[s2.length];
    }

    function sendMessage() {
  const userInput = document.getElementById("userInput");
  const message = userInput.value.trim();
  if (!message) return;

  const chatBox = document.getElementById("chat-box");

  // Show user's message
  const userBubble = document.createElement("div");
  userBubble.classList.add("message", "user");
  userBubble.textContent = message;
  chatBox.appendChild(userBubble);

  // Typing animation (Clark is thinking)
  const typingIndicator = document.createElement("div");
  typingIndicator.classList.add("typing");
  typingIndicator.setAttribute("id", "typing");
  chatBox.appendChild(typingIndicator);
  chatBox.scrollTop = chatBox.scrollHeight;

  // Delay before showing actual response
  setTimeout(() => {
    // Remove typing animation
    typingIndicator.remove();

    // Get chatbot response
    const response = getBestMatch(message);

    // Show bot's response
    const botBubble = document.createElement("div");
    botBubble.classList.add("message", "bot");
    botBubble.textContent = response;
    chatBox.appendChild(botBubble);
    chatBox.scrollTop = chatBox.scrollHeight;
  }, 1500); // 1.5 second delay

  userInput.value = "";
  userInput.focus();
}

function showWelcomeMessage() {
  const chatBox = document.getElementById("chat-box");

  const welcomeBubble = document.createElement("div");
  welcomeBubble.classList.add("message", "bot");
  welcomeBubble.textContent = "Hello! I'm Clark ðŸ¤–. How can I assist you today?";
  chatBox.appendChild(welcomeBubble);

  chatBox.scrollTop = chatBox.scrollHeight;
}

// Focus input on page load
  window.onload = () => {
  document.getElementById("userInput").focus();
  showWelcomeMessage();
};


  // Send on Enter key
  document.getElementById("userInput").addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
      sendMessage();
    }
  });

  </script>

</body>
</html>
